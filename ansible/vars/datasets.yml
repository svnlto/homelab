---
datasets:
  # Bulk pool
  bulk_kubernetes_nfs_dynamic:
    recordsize: "128K"
    compression: "lz4"
    sync: "standard"
    quota: "10T"

  bulk_media:
    recordsize: "1M"
    compression: "lz4"
    sync: "standard"
    atime: "off"

  bulk_photos:
    recordsize: "1M"
    compression: "lz4"
    sync: "standard"
    atime: "off"

  bulk_signoz_cold:
    recordsize: "128K"
    compression: "zstd"
    sync: "standard"

  bulk_backups_timemachine:
    recordsize: "1M"
    compression: "zstd"
    sync: "standard"
    quota: "2T"
    casesensitivity: "insensitive" # Required for macOS, set at creation only
    acltype: "nfsv4" # Required for SMB/macOS extended attributes
    aclmode: "passthrough"

  bulk_backups_proxmox:
    recordsize: "1M"
    compression: "zstd"
    sync: "standard"

  bulk_backups_restic:
    recordsize: "128K"
    compression: "off" # Restic handles own compression
    sync: "standard"

  bulk_backups_forgejo:
    recordsize: "128K"
    compression: "zstd"
    sync: "standard"
    quota: "100G"

  bulk_arr_config:
    recordsize: "16K"
    compression: "lz4"
    sync: "standard"
    atime: "off"
    # TODO: Move to fast pool once MD1220 hardware arrives

  bulk_archive:
    recordsize: "1M"
    compression: "lz4"
    sync: "standard"

  # Fast pool
  fast_kubernetes_nfs_dynamic:
    recordsize: "16K"
    compression: "lz4"
    sync: "standard"
    quota: "4T"

  fast_kubernetes_nfs_static:
    recordsize: "128K"
    compression: "lz4"
    sync: "standard"

  fast_kubernetes_iscsi_zvols:
    type: "filesystem" # Parent is filesystem, children are zvols

  fast_vms:
    recordsize: "64K"
    compression: "lz4"
    sync: "standard"

  fast_ml_models:
    recordsize: "1M"
    compression: "lz4"
    sync: "standard"
    quota: "1T"

  # Scratch pool
  scratch_kubernetes_nfs_dynamic:
    recordsize: "128K"
    compression: "lz4"
    sync: "disabled"
    quota: "8T"

  scratch_downloads:
    recordsize: "16K"
    compression: "off"
    sync: "disabled"
    children:
      - incomplete

  scratch_ci_runners:
    recordsize: "128K"
    compression: "lz4"
    sync: "disabled"
    children:
      - cache
      - artifacts

  scratch_ml_datasets:
    recordsize: "1M"
    compression: "lz4"
    sync: "disabled"

  scratch_temp:
    recordsize: "128K"
    compression: "lz4"
    sync: "disabled"
