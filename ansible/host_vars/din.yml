---
# Host-specific configuration for din (r730xd)

# ============================================================================
# PCIe Device Inventory
# ============================================================================
# Storage Controllers:
#   - 02:00.0: Broadcom/LSI SAS3008 (H330 Mini in IT mode)
#              → 5×8TB SATA drives (internal)
#              → Passed through to TrueNAS VM 300
#
# Network Interfaces:
#   - 01:00.0: Intel 82599ES 10GbE SFP+ Port 1 (nic2)
#   - 01:00.1: Intel 82599ES 10GbE SFP+ Port 2 (nic3)
#              → Used by Proxmox host (primary_interface for VLANs)
#              → DO NOT passthrough - needed for network bridges
#
#   - 06:00.0: Intel I350 1GbE (nic0) - Currently used by vmbr0
#   - 06:00.1: Intel I350 1GbE (nic1) - Unused
#
# Future Hardware:
#   - LSI 9201-8e → MD1220 disk shelf (24×900GB SFF) - To be added

# ============================================================================
# PCIe Passthrough Configuration
# ============================================================================
# Automatically bind devices to vfio-pci at boot (alternative to manual passthrough)
# Set to empty string "" to disable auto-binding

# LSI SAS3008 (H330 Mini) - Auto-bind to vfio-pci for TrueNAS VM
pci_device_ids: "1000:0097"

# Blacklist native driver for LSI SAS3008 (prevents host from binding to it)
# Allows vfio-pci to claim the device for VM passthrough
vfio_blacklist_drivers: [mpt3sas]
