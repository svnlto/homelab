---
# Application Instrumentation:
#   OTLP gRPC: signoz-otel-collector.signoz.svc.cluster.local:4317
#   OTLP HTTP: signoz-otel-collector.signoz.svc.cluster.local:4318
#
# The k8s-infra chart collects container stdout/stderr logs automatically.
# For custom apps, set OTEL_EXPORTER_OTLP_ENDPOINT to the gRPC endpoint above.

global:
  storageClass: truenas-iscsi-rwo

clickhouse:
  persistence:
    size: 20Gi
  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      memory: 2Gi

zookeeper:
  persistence:
    size: 5Gi
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      memory: 512Mi

signoz:
  persistence:
    size: 1Gi
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      memory: 512Mi

otelCollector:
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      memory: 512Mi
  config:
    receivers:
      tcplog/talos:
        listen_address: "0.0.0.0:5140"
        add_attributes: true
    service:
      pipelines:
        logs:
          receivers:
            - otlp
            - httplogreceiver/heroku
            - httplogreceiver/json
            - tcplog/talos

frontend:
  service:
    type: ClusterIP
